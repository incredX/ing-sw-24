


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>Coverage Report > JsonConverter</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">IS24_LB11.game.tools</a>
</div>

<h1>Coverage Summary for Class: JsonConverter (IS24_LB11.game.tools)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">JsonConverter</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    13,3%
  </span>
  <span class="absValue">
    (2/15)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    9,2%
  </span>
  <span class="absValue">
    (15/163)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package IS24_LB11.game.tools;
&nbsp;
&nbsp;import IS24_LB11.game.*;
&nbsp;import IS24_LB11.game.components.*;
&nbsp;import IS24_LB11.game.utils.*;
&nbsp;import com.google.gson.Gson;
&nbsp;import com.google.gson.JsonObject;
&nbsp;
&nbsp;import java.io.File;
&nbsp;import java.io.FileNotFoundException;
&nbsp;import java.util.ArrayList;
&nbsp;import java.util.Scanner;
&nbsp;
&nbsp;import static IS24_LB11.game.tools.JsonException.INVALID_INPUT;
&nbsp;import static IS24_LB11.game.tools.JsonException.PLACEDCARDS_NOT_FOUND;
&nbsp;
<b class="fc">&nbsp;public class JsonConverter {</b>
&nbsp;    /**
&nbsp;     * Checks if the provided object is null and throws a JsonException if it is.
&nbsp;     *
&nbsp;     * @param object the object to be checked
&nbsp;     * @throws JsonException if the provided object is null
&nbsp;     */
&nbsp;    private void checkNullObject(Object object) throws JsonException {
&nbsp;        //non mi piace com&#39;Ã¨ implementata l&#39;exception, chiedere agli altri
<b class="nc">&nbsp;        if (object == null)</b>
<b class="nc">&nbsp;            throw new JsonException(&quot;Object is null&quot;);</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Wraps the provided string with curly brackets and returns the result.
&nbsp;     *
&nbsp;     * @param string the string to be wrapped
&nbsp;     * @return the string wrapped with curly brackets
&nbsp;     * @throws JsonException if the provided string is null
&nbsp;     */
&nbsp;
&nbsp;    private String wrapTextBrackets(String string) throws JsonException {
<b class="nc">&nbsp;        checkNullObject(string);</b>
<b class="nc">&nbsp;        return &quot;{&quot; + string + &quot;}&quot;;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Converts a CardInterface object to its JSON representation.
&nbsp;     *
&nbsp;     * @param card the CardInterface object to be converted
&nbsp;     * @return the JSON representation of the card
&nbsp;     * @throws JsonException if the provided card object is null or if the card representation is invalid
&nbsp;     */
&nbsp;    public String objectToJSON(CardInterface card) throws JsonException {
<b class="nc">&nbsp;        checkNullObject(card);</b>
<b class="nc">&nbsp;        String cardString = card.asString();</b>
<b class="nc">&nbsp;        Character c = cardString.charAt(0);</b>
<b class="nc">&nbsp;        switch (c){</b>
&nbsp;            case &#39;O&#39;:
<b class="nc">&nbsp;                return wrapTextBrackets(&quot;\&quot;goalCard\&quot;:\&quot;&quot; + card.asString() + &quot;\&quot;&quot;);</b>
&nbsp;            case &#39;G&#39;:
<b class="nc">&nbsp;                return wrapTextBrackets(&quot;\&quot;goldenCard\&quot;:\&quot;&quot; + card.asString() + &quot;\&quot;&quot;);</b>
&nbsp;            case &#39;N&#39;:
<b class="nc">&nbsp;                return wrapTextBrackets(&quot;\&quot;normalCard\&quot;:\&quot;&quot; + card.asString() + &quot;\&quot;&quot;);</b>
&nbsp;            case &#39;S&#39;:
<b class="nc">&nbsp;                return wrapTextBrackets(&quot;\&quot;starterCard\&quot;:\&quot;&quot; + card.asString() + &quot;\&quot;&quot;);</b>
&nbsp;            default:
<b class="nc">&nbsp;                throw new JsonException(String.format(INVALID_INPUT, cardString));</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Converts a Board object to its JSON representation.
&nbsp;     *
&nbsp;     * @param board the Board object to be converted
&nbsp;     * @return the JSON representation of the board
&nbsp;     * @throws JsonException if the provided board object is null
&nbsp;     */
&nbsp;    public String objectToJSON(Board board) throws JsonException {
<b class="nc">&nbsp;        checkNullObject(board);</b>
<b class="nc">&nbsp;        String str = &quot;\&quot;Board\&quot;:{&quot;;</b>
<b class="nc">&nbsp;        str += &quot;\&quot;placedCards\&quot;:[&quot;;</b>
<b class="nc">&nbsp;        for (PlacedCard placedCard : board.getPlacedCards()) {</b>
<b class="nc">&nbsp;            str = str + objectToJSON(placedCard) + &quot;,&quot;;</b>
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;        str = str.substring(0, str.length() - 1);</b>
<b class="nc">&nbsp;        str += &quot;]}&quot;;</b>
<b class="nc">&nbsp;        return wrapTextBrackets(str);</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Converts a Player object to its JSON representation.
&nbsp;     *
&nbsp;     * @param player the Player object to be converted
&nbsp;     * @return the JSON representation of the player
&nbsp;     * @throws JsonException if the provided player object is null
&nbsp;     */
&nbsp;    public String objectToJSON(Player player) throws JsonException {
<b class="nc">&nbsp;        checkNullObject(player);</b>
<b class="nc">&nbsp;        String str = &quot;\&quot;Player\&quot;:{&quot;;</b>
<b class="nc">&nbsp;        str = str + &quot;\&quot;name\&quot;:\&quot;&quot; + player.name() + &quot;\&quot;,&quot;;</b>
<b class="nc">&nbsp;        str = str + &quot;\&quot;Color\&quot;:\&quot;&quot; + player.getColor() + &quot;\&quot;,&quot;;</b>
<b class="nc">&nbsp;        str = str + &quot;\&quot;Hand\&quot;:[&quot;;</b>
<b class="nc">&nbsp;        for (PlayableCard playableCard : player.getHand())</b>
<b class="nc">&nbsp;            str = str + objectToJSON(playableCard) + &quot;,&quot;;</b>
<b class="nc">&nbsp;        str = str.substring(0, str.length() - 1) + &quot;],&quot;;</b>
<b class="nc">&nbsp;        str = str + &quot;\&quot;PersonalGoal\&quot;:&quot; + objectToJSON(player.getPersonalGoal()) + &quot;,&quot;;</b>
<b class="nc">&nbsp;        str = str + &quot;\&quot;Score\&quot;:\&quot;&quot; + player.getScore() + &quot;\&quot;,&quot;;</b>
<b class="nc">&nbsp;        str = str + objectToJSON(player.getSetup()).substring(1);</b>
<b class="nc">&nbsp;        str = str.substring(0, str.length() - 1) + &quot;,&quot;;</b>
<b class="nc">&nbsp;        str = str + objectToJSON(player.getBoard()).substring(1);</b>
<b class="nc">&nbsp;        return wrapTextBrackets(str);</b>
&nbsp;    }
&nbsp;
&nbsp;    public String objectToJSON(PlayerSetup playerSetup) throws JsonException {
<b class="nc">&nbsp;        String str = &quot;\&quot;PlayerSetup\&quot;:{&quot;;</b>
<b class="nc">&nbsp;        str = str + &quot;\&quot;StarterCard\&quot;:&quot; + objectToJSON(playerSetup.getStarterCard()) + &quot;,&quot;;</b>
<b class="nc">&nbsp;        str = str + &quot;\&quot;Goals\&quot;:[&quot; + objectToJSON(playerSetup.getGoals()[0]) + &quot;,&quot; + objectToJSON(playerSetup.getGoals()[1]) + &quot;],&quot;;</b>
<b class="nc">&nbsp;        str = str + &quot;\&quot;Color\&quot;:\&quot;&quot; + playerSetup.getColor() + &quot;\&quot;,&quot;;</b>
<b class="nc">&nbsp;        str = str + &quot;\&quot;Hand\&quot;:[&quot;;</b>
<b class="nc">&nbsp;        for (PlayableCard playableCard : playerSetup.hand())</b>
<b class="nc">&nbsp;            str = str + objectToJSON(playableCard) + &quot;,&quot;;</b>
<b class="nc">&nbsp;        str = str.substring(0, str.length() - 1) + &quot;],&quot;;</b>
<b class="nc">&nbsp;        str = str + &quot;\&quot;chosenGoalIndex\&quot;:\&quot;&quot; + playerSetup.getChosenGoalIndex() + &quot;\&quot;}&quot;;</b>
<b class="nc">&nbsp;        return wrapTextBrackets(str);</b>
&nbsp;    }
&nbsp;
&nbsp;    public String objectToJSON(PlacedCard placedCard) throws JsonException {
<b class="nc">&nbsp;        String str =&quot;\&quot;PlacedCard\&quot;:&quot;;</b>
<b class="nc">&nbsp;        str = str + objectToJSON(placedCard.card()) ;</b>
<b class="nc">&nbsp;        str = str.substring(0,str.length()-1)  + &quot;,\&quot;Position\&quot;:\&quot;&quot;;</b>
<b class="nc">&nbsp;        str = str + &quot;X&quot; + placedCard.position().getX() + &quot;Y&quot; + placedCard.position().getY() + &quot;\&quot;}&quot;;</b>
<b class="nc">&nbsp;        return wrapTextBrackets(str);</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Converts a JSON string representation of a card to a CardInterface object.
&nbsp;     *
&nbsp;     * @param stringInput The JSON string representing the card.
&nbsp;     * @return A CardInterface object representing the card described in the JSON string.
&nbsp;     * @throws JsonException   If there is an issue with parsing the JSON string.
&nbsp;     * @throws SyntaxException If there is a syntax error in the JSON string.
&nbsp;     */
&nbsp;    private CardInterface JSONToCard(String stringInput) throws JsonException, SyntaxException {
<b class="nc">&nbsp;        CardFactory cardFactory = new CardFactory();</b>
<b class="nc">&nbsp;        checkNullObject(stringInput);</b>
<b class="nc">&nbsp;        if (!stringInput.contains(&quot;Card&quot;))</b>
<b class="nc">&nbsp;            throw new JsonException(String.format(INVALID_INPUT, stringInput));</b>
<b class="nc">&nbsp;        stringInput = stringInput.substring(stringInput.indexOf(&quot;Card&quot;) + 7);</b>
<b class="nc">&nbsp;        stringInput = stringInput.substring(0, stringInput.indexOf(&quot;\&quot;&quot;));</b>
<b class="nc">&nbsp;        switch (stringInput.charAt(0)) {</b>
&nbsp;            case &#39;O&#39;:
<b class="nc">&nbsp;                if (stringInput.length() == 6)</b>
<b class="nc">&nbsp;                    return cardFactory.newSerialCard(stringInput);</b>
&nbsp;                else
<b class="nc">&nbsp;                    return cardFactory.newSerialCard(stringInput);</b>
&nbsp;            case &#39;N&#39;:
<b class="nc">&nbsp;                return cardFactory.newSerialCard(stringInput);</b>
&nbsp;            case &#39;G&#39;:
<b class="nc">&nbsp;                return cardFactory.newSerialCard(stringInput);</b>
&nbsp;            case &#39;S&#39;:
<b class="nc">&nbsp;                return cardFactory.newSerialCard(stringInput);</b>
&nbsp;            default:
<b class="nc">&nbsp;                throw new JsonException(String.format(INVALID_INPUT, stringInput));</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Converts a JSON representation of a board into a Board object.
&nbsp;     *
&nbsp;     * @param stringInput the JSON string representing the board.
&nbsp;     * @return the Board object created from the JSON input.
&nbsp;     * @throws JsonException   if there is an issue parsing the JSON input.
&nbsp;     * @throws SyntaxException if there is a syntax error in the JSON input.
&nbsp;     */
&nbsp;    public Board JSONToBoard(String stringInput) throws JsonException, SyntaxException {
&nbsp;        String auxString;
<b class="nc">&nbsp;        checkNullObject(stringInput);</b>
<b class="nc">&nbsp;        Board convertedBoard = new Board();</b>
<b class="nc">&nbsp;        while (stringInput.contains(&quot;PlacedCard&quot;)) {</b>
<b class="nc">&nbsp;            auxString = stringInput.substring(stringInput.indexOf(&quot;{&quot;), stringInput.indexOf(&quot;}&quot;) + 1);</b>
<b class="nc">&nbsp;            System.out.println(auxString);</b>
<b class="nc">&nbsp;            PlacedCard placedCard = (PlacedCard) JSONToObject(auxString);</b>
<b class="nc">&nbsp;            if (placedCard.card().asString().startsWith(&quot;S&quot;))</b>
<b class="nc">&nbsp;                convertedBoard.start((StarterCard) placedCard.card());</b>
&nbsp;            else
<b class="nc">&nbsp;                convertedBoard.placeCard((PlayableCard) placedCard.card(),placedCard.position());</b>
<b class="nc">&nbsp;            System.out.println(stringInput);</b>
<b class="nc">&nbsp;            stringInput = stringInput.substring(stringInput.indexOf(&quot;}&quot;) + 3);</b>
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;        return convertedBoard;</b>
&nbsp;    }
&nbsp;
&nbsp;    private JsonConvertable JSONToPlayer(String stringInput) throws JsonException, SyntaxException {
<b class="nc">&nbsp;        System.out.println(stringInput);</b>
<b class="nc">&nbsp;        String auxString = stringInput.substring(stringInput.indexOf(&quot;name&quot;) + 7);</b>
<b class="nc">&nbsp;        System.out.println(auxString);</b>
<b class="nc">&nbsp;        String name = auxString.substring(0, auxString.indexOf(&quot;\&quot;&quot;));</b>
<b class="nc">&nbsp;        System.out.println(name);</b>
<b class="nc">&nbsp;        Character character = auxString.charAt(auxString.indexOf(&quot;Color&quot;) + 8);</b>
<b class="nc">&nbsp;        Color color = Color.fromChar(character);</b>
<b class="nc">&nbsp;        System.out.println(color);</b>
<b class="nc">&nbsp;        auxString = auxString.substring(auxString.indexOf(&quot;Hand&quot;) + 7, auxString.indexOf(&quot;]&quot;));</b>
<b class="nc">&nbsp;        ArrayList&lt;PlayableCard&gt; hand = new ArrayList&lt;&gt;();</b>
<b class="nc">&nbsp;        for (int i = 0; i &lt; 3; i++) {</b>
<b class="nc">&nbsp;            System.out.println(auxString);</b>
<b class="nc">&nbsp;            hand.add((PlayableCard) JSONToObject(auxString.substring(auxString.indexOf(&quot;{&quot;), auxString.indexOf(&quot;}&quot;))));</b>
<b class="nc">&nbsp;            auxString = (i != 2) ? auxString.substring(auxString.indexOf(&quot;}&quot;) + 2) : auxString;</b>
&nbsp;        }
<b class="nc">&nbsp;        for (PlayableCard playableCard : hand)</b>
<b class="nc">&nbsp;            System.out.println(playableCard.asString());</b>
<b class="nc">&nbsp;        auxString = stringInput.substring(stringInput.indexOf(&quot;Score&quot;) + 8);</b>
<b class="nc">&nbsp;        auxString = auxString.substring(0, auxString.indexOf(&quot;\&quot;&quot;));</b>
<b class="nc">&nbsp;        int score = Integer.valueOf(auxString);</b>
&nbsp;
<b class="nc">&nbsp;        PlayerSetup playerSetup = (PlayerSetup) JSONToSetupPlayer(stringInput.substring(stringInput.indexOf(&quot;PlayerSetup&quot;), stringInput.length() - 2));</b>
<b class="nc">&nbsp;        System.out.println(&quot;{&quot; + stringInput.substring(stringInput.indexOf(&quot;\&quot;Board&quot;),stringInput.length()-2));</b>
<b class="nc">&nbsp;        Board board = (Board) JSONToObject(&quot;{&quot; + stringInput.substring(stringInput.indexOf(&quot;\&quot;Board&quot;),stringInput.length()-1));</b>
<b class="nc">&nbsp;        System.out.println(objectToJSON(board));</b>
<b class="nc">&nbsp;        Player playerConverted = new Player(name,playerSetup);</b>
<b class="nc">&nbsp;        playerConverted.applySetup();</b>
<b class="nc">&nbsp;        playerConverted.setBoard(board);</b>
<b class="nc">&nbsp;        return playerConverted;</b>
&nbsp;    }
&nbsp;
&nbsp;    private PlayerSetup JSONToSetupPlayer(String stringInput) throws JsonException, SyntaxException {
<b class="nc">&nbsp;        String auxString = stringInput.substring(stringInput.indexOf(&quot;StarterCard&quot;) + 13);</b>
<b class="nc">&nbsp;        StarterCard starterCard = (StarterCard) JSONToCard(auxString.substring(0, auxString.indexOf(&quot;,&quot;)));</b>
<b class="nc">&nbsp;        auxString = stringInput.substring(stringInput.indexOf(&quot;Goals&quot;) + 8);</b>
<b class="nc">&nbsp;        auxString = auxString.substring(0, auxString.indexOf(&quot;]&quot;));</b>
<b class="nc">&nbsp;        GoalCard[] goals = new GoalCard[2];</b>
<b class="nc">&nbsp;        for (int i = 0; i &lt; 2; i++) {</b>
<b class="nc">&nbsp;            System.out.println(auxString);</b>
<b class="nc">&nbsp;            goals[i] = ((GoalCard) JSONToObject(auxString.substring(auxString.indexOf(&quot;{&quot;), auxString.indexOf(&quot;}&quot;))));</b>
<b class="nc">&nbsp;            auxString = (i != 1) ? auxString.substring(auxString.indexOf(&quot;}&quot;) + 2) : auxString;</b>
&nbsp;        }
<b class="nc">&nbsp;        System.out.println(auxString);</b>
<b class="nc">&nbsp;        auxString = stringInput.substring(stringInput.indexOf(&quot;Color&quot;) + 8);</b>
<b class="nc">&nbsp;        Color color = Color.fromChar(auxString.charAt(0));</b>
<b class="nc">&nbsp;        auxString = stringInput.substring(stringInput.indexOf(&quot;Hand&quot;) + 7);</b>
<b class="nc">&nbsp;        auxString = auxString.substring(0, auxString.indexOf(&quot;]&quot;));</b>
<b class="nc">&nbsp;        ArrayList&lt;PlayableCard&gt; hand = new ArrayList&lt;&gt;();</b>
<b class="nc">&nbsp;        for (int i = 0; i &lt; 3; i++) {</b>
<b class="nc">&nbsp;            hand.add((PlayableCard) JSONToObject(auxString.substring(auxString.indexOf(&quot;{&quot;), auxString.indexOf(&quot;}&quot;))));</b>
<b class="nc">&nbsp;            auxString = (i != 2) ? auxString.substring(auxString.indexOf(&quot;}&quot;) + 2) : auxString;</b>
&nbsp;        }
<b class="nc">&nbsp;        auxString = stringInput.substring(stringInput.indexOf(&quot;chosenGoalIndex&quot;) + 18);</b>
<b class="nc">&nbsp;        int chosenGoalIndex = Integer.valueOf(auxString.substring(0, auxString.indexOf(&quot;\&quot;&quot;)));</b>
<b class="nc">&nbsp;        PlayerSetup playerSetupConverted = new PlayerSetup(starterCard,goals,hand,color);</b>
<b class="nc">&nbsp;        playerSetupConverted.selectGoal(goals[chosenGoalIndex]);</b>
<b class="nc">&nbsp;        return playerSetupConverted;</b>
&nbsp;    }
&nbsp;
&nbsp;    private JsonConvertable JSONToPlacedCard(String stringInput) throws JsonException, SyntaxException {
<b class="nc">&nbsp;        checkNullObject(stringInput);</b>
<b class="nc">&nbsp;        String auxString = stringInput.substring(stringInput.indexOf(&quot;PlacedCard&quot;) + 12);</b>
<b class="nc">&nbsp;        CardInterface card = JSONToCard(auxString.substring(0,auxString.indexOf(&quot;,&quot;)));</b>
<b class="nc">&nbsp;        stringInput = stringInput.substring(stringInput.indexOf(&quot;X&quot;));</b>
<b class="nc">&nbsp;        int X =Integer.valueOf(stringInput.substring(1,stringInput.indexOf(&quot;Y&quot;)));</b>
<b class="nc">&nbsp;        stringInput=stringInput.substring(stringInput.indexOf(&quot;Y&quot;)+1,stringInput.indexOf(&quot;\&quot;&quot;));</b>
<b class="nc">&nbsp;        int Y =Integer.valueOf(stringInput);</b>
<b class="nc">&nbsp;        return (JsonConvertable) new PlacedCard((PlayableCard) card,new Position(X,Y));</b>
&nbsp;    }
&nbsp;
&nbsp;
&nbsp;    /**
&nbsp;     * Converts a JSON representation of an object into the corresponding JsonConvertable object.
&nbsp;     *
&nbsp;     * @param stringInput the JSON string representing the object.
&nbsp;     * @return the JsonConvertable object created from the JSON input.
&nbsp;     * @throws JsonException   if there is an issue parsing the JSON input.
&nbsp;     * @throws SyntaxException if there is a syntax error in the JSON input.
&nbsp;     */
&nbsp;    public JsonConvertable JSONToObject(String stringInput) throws JsonException, SyntaxException {
<b class="nc">&nbsp;        stringInput = stringInput.substring(stringInput.indexOf(&quot;\&quot;&quot;));</b>
<b class="nc">&nbsp;        String objectType = stringInput.substring(1, stringInput.substring(1).indexOf(&quot;\&quot;&quot;) + 1);</b>
<b class="nc">&nbsp;        switch (objectType) {</b>
&nbsp;            case &quot;Board&quot;:
<b class="nc">&nbsp;                if (stringInput.contains(&quot;placedCards&quot;))</b>
<b class="nc">&nbsp;                    return JSONToBoard(stringInput.substring(stringInput.indexOf(&quot;[&quot;), stringInput.indexOf(&quot;]&quot;) + 1));</b>
<b class="nc">&nbsp;                throw new JsonException(String.format(PLACEDCARDS_NOT_FOUND, stringInput));</b>
&nbsp;            case &quot;Player&quot;:
<b class="nc">&nbsp;                return JSONToPlayer(stringInput);</b>
&nbsp;            case &quot;PlayerSetup&quot;:
<b class="nc">&nbsp;                return JSONToSetupPlayer(stringInput);</b>
&nbsp;            case &quot;PlacedCard&quot;:
<b class="nc">&nbsp;                return JSONToPlacedCard(stringInput);</b>
&nbsp;            default:
<b class="nc">&nbsp;                if (objectType.contains(&quot;Card&quot;))</b>
<b class="nc">&nbsp;                    return JSONToCard(stringInput);</b>
<b class="nc">&nbsp;                throw new JsonException(String.format(INVALID_INPUT, stringInput));</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Converts a JSON representation of a deck into a Deck object for a specific character.
&nbsp;     *
&nbsp;     * @param text      the JSON string representing the deck.
&nbsp;     * @param character the character associated with the deck.
&nbsp;     * @return the Deck object created from the JSON input.
&nbsp;     * @throws SyntaxException if there is a syntax error in the JSON input.
&nbsp;     */
&nbsp;    public Deck JSONToDeck(Character character) throws SyntaxException, FileNotFoundException {
<b class="fc">&nbsp;        Scanner scFile = new Scanner(new File(&quot;resources/Cards.json&quot;));</b>
<b class="fc">&nbsp;        String text = &quot;&quot;;</b>
<b class="fc">&nbsp;        while (scFile.hasNextLine())</b>
<b class="fc">&nbsp;            text = text.concat(scFile.nextLine());</b>
<b class="fc">&nbsp;        ArrayList&lt;CardInterface&gt; deckCards = new ArrayList&lt;&gt;();</b>
<b class="fc">&nbsp;        CardFactory cardFactory = new CardFactory();</b>
<b class="fc">&nbsp;        Scanner sc = new Scanner(text);</b>
<b class="fc">&nbsp;        while (sc.hasNext()) {</b>
<b class="fc">&nbsp;            String word = sc.next();</b>
<b class="fc">&nbsp;            word = word.endsWith(&quot;,&quot;) ? word.substring(0, word.length() - 1) : word;</b>
<b class="fc">&nbsp;            if (word.startsWith(&quot;\&quot;&quot; + character) &amp;&amp; word.length() &gt; 5) {</b>
<b class="fc">&nbsp;                deckCards.add(cardFactory.newSerialCard(word.substring(1, word.length() - 1)));</b>
&nbsp;            }
<b class="fc">&nbsp;        }</b>
<b class="fc">&nbsp;        return new Deck(deckCards);</b>
&nbsp;    }
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2024-04-25 15:23</div>
</div>
</body>
</html>
